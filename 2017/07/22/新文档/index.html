<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="#最常用的ES6特性#
let, const, class, extends, super, arrow functions, template string, destructuring, default, rest arguments 这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍" />
  

  
  
  
  
  
  
  <title>welcome</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="#最常用的ES6特性# let, const, class, extends, super, arrow functions, template string, destructuring, default, rest arguments 这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍天下都不怕啦！我会用最通俗易懂的语言和例子来讲解它们，保证一看就懂，一学就会。 let, const">
<meta property="og:type" content="article">
<meta property="og:title" content="welcome">
<meta property="og:url" content="http://yoursite.com/2017/07/22/新文档/index.html">
<meta property="og:site_name" content="welcome">
<meta property="og:description" content="#最常用的ES6特性# let, const, class, extends, super, arrow functions, template string, destructuring, default, rest arguments 这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍天下都不怕啦！我会用最通俗易懂的语言和例子来讲解它们，保证一看就懂，一学就会。 let, const">
<meta property="og:updated_time" content="2017-07-22T02:53:39.716Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="welcome">
<meta name="twitter:description" content="#最常用的ES6特性# let, const, class, extends, super, arrow functions, template string, destructuring, default, rest arguments 这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍天下都不怕啦！我会用最通俗易懂的语言和例子来讲解它们，保证一看就懂，一学就会。 let, const">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  

  
  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>
</head>
<body class="home blog custom-background custom-font-enabled single-author">
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="welcome" rel="home">welcome</a>
      </h1>
      
        <script type="text/javascript" src="http://api.hitokoto.us/rand?encode=js&charset=utf-8"></script>
        <h2 class="site-description"><script>hitokoto();</script></h2>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives">Archives</a></li>
                
                </ul>
            </div>
    </nav>
</header>
      <div id="main" class="wrapper">
        <div id="primary" class="site-content"><div id="content" role="main"><article id="post-新文档" class="post-新文档 post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        <div class="comments-link">
            
            <a href="javascript:void(0);" data-url="http://yoursite.com/2017/07/22/新文档/" data-id="cj5epaio200008kvtgav0wzqu" class="leave-reply bdsharebuttonbox" data-cmd="more">Share</a>
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <p>#最常用的ES6特性#</p>
<p><strong>let, const, class, extends, super, arrow functions, template string, destructuring, default, rest arguments</strong> <br><br>这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍天下都不怕啦！我会用最通俗易懂的语言和例子来讲解它们，保证一看就懂，一学就会。</p>
<h2 id="let-const"><a href="#let-const" class="headerlink" title="let, const"></a>let, const</h2><p>这两个的用途与var类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。<br>首先来看下面这个例子：</p>
<pre><code>var name = &apos;zach&apos;

while (true) {

var name = &apos;obama&apos;

console.log(name)  //obama

break
}

console.log(name)  //obama
</code></pre><p>使用var两次输出都是obama，这是因为ES5只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。第一种场景就是你现在看到的内层变量覆盖外层变量。而let则实际上为JavaScript新增了块级作用域。用它所声明的变量，只在let命令所在的代码块内有效。</p>
<pre><code>let name = &apos;zach&apos;

while (true) {

let name = &apos;obama&apos;

console.log(name)  //obama

break
}

console.log(name)  //zach
</code></pre><p>另外一个var带来的不合理场景就是用来计数的循环变量泄露为全局变量，看下面的例子：</p>
<pre><code>var a = [];

for (var i = 0; i &lt; 10; i++) {

  a[i] = function () {

console.log(i);

  };
}

a[6](); // 10
</code></pre><p>上面代码中，变量i是var声明的，在全局范围内都有效。所以每一次循环，新的i值都会覆盖旧值，导致最后输出的是最后一轮的i的值。而使用let则不会出现这个问题。</p>
<pre><code>var a = [];

for (let i = 0; i &lt; 10; i++) {

  a[i] = function () {

console.log(i);

  };
}

a[6](); // 6
</code></pre><p>再来看一个更常见的例子，了解下如果不用ES6，而用闭包如何解决这个问题。</p>
<pre><code>var clickBoxs = document.querySelectorAll(&apos;.clickBox&apos;)

for (var i = 0; i &lt; clickBoxs.length; i++){

clickBoxs[i].onclick = function(){

console.log(i)
}
}
</code></pre><p>我们本来希望的是点击不同的clickBox，显示不同的i，但事实是无论我们点击哪个clickBox，输出的都是5。下面我们来看下，如何用闭包搞定它。</p>
<pre><code>function iteratorFactory(i){

var onclick = function(e){

console.log(i)
}

return onclick;
}

var clickBoxs = document.querySelectorAll(&apos;.clickBox&apos;)

for (var i = 0; i &lt; clickBoxs.length; i++){

clickBoxs[i].onclick = iteratorFactory(i)
}
</code></pre><p>const也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。</p>
<pre><code>const PI = Math.PI

PI = 23 //Module build failed: SyntaxError: /es6/app.js: &quot;PI&quot; is read-only
</code></pre><p>当我们尝试去改变用const声明的常量时，浏览器就会报错。<br>const有一个很好的应用场景，就是当我们引用第三方库的时声明的变量，用const来声明可以避免未来不小心重命名而导致出现bug：</p>
<pre><code>const monent = require(&apos;moment&apos;)
</code></pre><p>##class, extends, super##</p>
<p>这三个特性涉及了ES5中最令人头疼的的几个部分：原型、构造函数，继承…你还在为它们复杂难懂的语法而烦恼吗？你还在为指针到底指向哪里而纠结万分吗？</p>
<p>有了ES6我们不再烦恼！</p>
<p>ES6提供了更接近传统语言的写法，引入了Class（类）这个概念。新的class写法让对象原型的写法更加清晰、更像面向对象编程的语法，也更加通俗易懂。</p>
<pre><code>class Animal {

constructor(){

this.type = &apos;animal&apos;
    }
says(say){

console.log(this.type + &apos; says &apos; + say)
    }
}

let animal = new Animal()

animal.says(&apos;hello&apos;) //animal says hello

class Cat extends Animal {

constructor(){

super()

this.type = &apos;cat&apos;

    }
}

let cat = new Cat()

cat.says(&apos;hello&apos;) //cat says hello
</code></pre><p>上面代码首先用class定义了一个“类”，可以看到里面有一个constructor方法，这就是构造方法，而this关键字则代表实例对象。简单地说，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实例对象可以共享的。</p>
<p>Class之间可以通过extends关键字实现继承，这比ES5的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个Cat类，该类通过extends关键字，继承了Animal类的所有属性和方法。</p>
<p>super关键字，它指代父类的实例（即父类的this对象）。子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。</p>
<p>ES6的继承机制，实质是先创造父类的实例对象this（所以必须先调用super方法），然后再用子类的构造函数修改this。</p>
<p>P.S 如果你写react的话，就会发现以上三个东西在最新版React中出现得很多。创建的每个component都是一个继承React.Component的类。详见react文档</p>
<p>##arrow function##</p>
<p>这个恐怕是ES6最最常用的一个新特性了，用它来写function比原来的写法要简洁清晰很多:</p>
<pre><code>function(i){ return i + 1; } //ES5
(i) =&gt; i + 1 //ES6
</code></pre><p>简直是简单的不像话对吧…<br>如果方程比较复杂，则需要用{}把代码包起来：</p>
<pre><code>function(x, y) { 

x++;

y--;

return x + y;

}

(x, y) =&gt; {x++; y--; return x+y}
</code></pre><p>除了看上去更简洁以外，arrow function还有一项超级无敌的功能！<br>长期以来，JavaScript语言的this对象一直是一个令人头痛的问题，在对象方法中使用this，必须非常小心。例如：</p>
<pre><code>class Animal {

constructor(){

this.type = &apos;animal&apos;

}
says(say){

setTimeout(function(){

console.log(this.type + &apos; says &apos; + say)

        }, 1000)
    }
}

 var animal = new Animal()

 animal.says(&apos;hi&apos;)  //undefined says hi
</code></pre><p>运行上面的代码会报错，这是因为setTimeout中的this指向的是全局对象。所以为了让它能够正确的运行，传统的解决方法有两种：</p>
<p>第一种是将this传给self,再用self来指代this</p>
<pre><code>says(say){

var self = this;

setTimeout(function(){

console.log(self.type + &apos; says &apos; + say)

}, 1000)
</code></pre><p>2.第二种方法是用bind(this),即</p>
<pre><code>says(say){

setTimeout(function(){

console.log(self.type + &apos; says &apos; + say)

}.bind(this), 1000)
</code></pre><p>但现在我们有了箭头函数，就不需要这么麻烦了：</p>
<pre><code>class Animal {

constructor(){

this.type = &apos;animal&apos;

    }

says(say){

setTimeout( () =&gt; {

console.log(this.type + &apos; says &apos; + say)

        }, 1000)
    }
}
 var animal = new Animal()

 animal.says(&apos;hi&apos;)  //animal says hi
</code></pre><p>当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。<br>并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，它的this是继承外面的，因此内部的this就是外层代码块的this。</p>
<p>##template string##</p>
<p>这个东西也是非常有用，当我们要插入大段的html内容到文档中时，传统的写法非常麻烦，所以之前我们通常会引用一些模板工具库，比如mustache等等。</p>
<p>大家可以先看下面一段代码：</p>
<pre><code>$(&quot;#result&quot;).append(
  &quot;There are &lt;b&gt;&quot; + basket.count + &quot;&lt;/b&gt; &quot; +
  &quot;items in your basket, &quot; +
  &quot;&lt;em&gt;&quot; + basket.onSale +
  &quot;&lt;/em&gt; are on sale!&quot;
);
</code></pre><p>我们要用一堆的’+’号来连接文本与变量，而使用ES6的新特性模板字符串``后，我们可以直接这么来写：</p>
<pre><code>$(&quot;#result&quot;).append(`
  There are &lt;b&gt;${basket.count}&lt;/b&gt; items
   in your basket, &lt;em&gt;${basket.onSale}&lt;/em&gt;
  are on sale!
`);
</code></pre><p>用反引号（`）来标识起始，用${}来引用变量，而且所有的空格和缩进都会被保留在输出之中，是不是非常爽？！</p>
<p>React Router从第1.0.3版开始也使用ES6语法了，比如这个例子：</p>
<pre><code>&lt;Link to={`/taco/${taco.name}`}&gt;{taco.name}&lt;/Link&gt;
React Router
</code></pre><p>##destructuring##</p>
<p>ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。</p>
<p>看下面的例子：</p>
<pre><code>let cat = &apos;ken&apos;

let dog = &apos;lili&apos;

let zoo = {cat: cat, dog: dog}

console.log(zoo)  //Object {cat: &quot;ken&quot;, dog: &quot;lili&quot;}
</code></pre><p>用ES6完全可以像下面这么写：</p>
<pre><code>let cat = &apos;ken&apos;

let dog = &apos;lili&apos;

let zoo = {cat, dog}

console.log(zoo)  //Object {cat: &quot;ken&quot;, dog: &quot;lili&quot;}
</code></pre><p>反过来可以这么写：</p>
<pre><code>let dog = {type: &apos;animal&apos;, many: 2}

let { type, many} = dog

console.log(type, many)   //animal 2
</code></pre><p>##default, rest##</p>
<p>default很简单，意思就是默认值。大家可以看下面的例子，调用animal()方法时忘了传参数，传统的做法就是加上这一句type = type || ‘cat’来指定默认值。</p>
<pre><code>function animal(type){

type = type || &apos;cat&apos;  

console.log(type)

}

animal()
</code></pre><p>如果用ES6我们而已直接这么写：</p>
<pre><code>function animal(type = &apos;cat&apos;){

console.log(type)

}

animal()
</code></pre><p>最后一个rest语法也很简单，直接看例子：</p>
<pre><code>function animals(...types){

console.log(types)

}

animals(&apos;cat&apos;, &apos;dog&apos;, &apos;fish&apos;) //[&quot;cat&quot;, &quot;dog&quot;, &quot;fish&quot;]
</code></pre><p>而如果不用ES6的话，我们则得使用ES5的arguments。</p>
<p>###总结:以上就是ES6最常用的一些语法，可以说这20%的语法，在ES6的日常使用中占了80%…###</p>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2017/07/22/新文档/">
    <time datetime="2017-07-22T02:42:32.954Z" class="entry-date">
        2017-07-22
    </time>
</a>
    
    
    </footer>
</article>


    






</div></div>
        <div id="secondary" class="widget-area" role="complementary">
  
    <aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="搜索" />
    </div>
</form></aside>
  
    
  
    
  
    
  <aside class="widget">
    <h3 class="widget-title">Recents</h3>
    <div class="widget-content">
      <ul>
        
          <li>
            <a href="/2017/07/22/新文档/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </aside>

  
    
  
    
  
</div>
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2017 zhong
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</footer>
    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

<script src="/js/jquery-2.0.3.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<script src="/js/navigation.js"></script>

<div id="bg"></div>

  </div>
</body>
</html>